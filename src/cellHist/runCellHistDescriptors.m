clc, clear all

setNum = 16;
imNum = 1;
liNum = 0;

peakThresholdDog = 6.5;
peakThresholdDogFull = 5;
peakThresholdHarris = 10^4;

method = methodStruct( ...
    'vl',{'method','dog','peakthreshold',peakThresholdDog,'cache',1}, ...
   'cellhist',{...
   'colour','gray',...
   'contentType','go',...
   'magnitudeType','m',...
   'rescale',0.5,...
   'gridType','concentric polar',...
   'gridSize',[12 2],...
   'gridRadius',10,...
   'centerFilter','gaussian',...
   'centerSigma',[1.3 1.3],...
   'cellFilter','polar gaussian',...
   'cellSigma',[1 1],...
   'normType','pixel',...
   'normSigma',[1.4 1.4],...
   'binSigma',1.2,...
   'binCount',12,...
   'cellNormStrategy',0,...
   'cache',0},...
   0,{'co-'});

[mFunc, mName] = parseMethod(method);
% profile off, profile on
tic

[X,D] = dtuFeatures(setNum, imNum, liNum, mFunc, 1);

% load('paths');
% I = rand(495,500,3);
% imName = 'test';
% [X,D] = mFunc(I,dtuResults,imName,false);
% D = reshape(D(1,:),8,25);
% sum(D,1)
% figure
% subplot(1,2,1)
% imshow(D,[])

toc
% profile off
% profile viewer