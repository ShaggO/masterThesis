\documentclass[11pt,a4paper]{report}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
%\usepackage[obeyDraft]{todonotes}
\usepackage[textwidth=3.8cm]{todonotes}
\usepackage{subfiles,bibentry}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{nicefrac}
\usepackage[style=alphabetic,natbib=true,backend=biber,bibencoding=utf8]{biblatex}
\usepackage{setspace}
\usepackage{csquotes}
\usepackage{float}
\usepackage{subcaption}
\usepackage{siunitx}

\usepackage{pgfplotstable}

\usepackage{tikz}
\newcommand\diag[4]{%
  \multicolumn{1}{p{#2}|}{\hskip-\tabcolsep
  $\vcenter{\begin{tikzpicture}[baseline=0,anchor=south west,inner sep=#1]
  \path[use as bounding box] (0,0) rectangle (#2+2\tabcolsep,\baselineskip);
  \node[minimum width={#2+2\tabcolsep},minimum height=\baselineskip+\extrarowheight] (box) {};
  \draw (box.north west) -- (box.south east);
  \node[anchor=south west] at (box.south west) {#3};
  \node[anchor=north east] at (box.north east) {#4};
 \end{tikzpicture}}$\hskip-\tabcolsep}}

\usepackage{booktabs,colortbl}
\renewcommand{\arraystretch}{1.3}

%\DeclareCaptionLabelFormat{mysubref}{(#2)}
%\captionsetup[subfigure]{labelformat=parens}
\captionsetup{subrefformat=parens}

\usepackage[nottoc,notlot,notlof]{tocbibind}

\usepackage[pdfborder={0.5 0.5 0.5},hidelinks,breaklinks]{hyperref}
\usepackage{cleveref}

\setcounter{secnumdepth}{2}
\allowdisplaybreaks

%% University of copenhagen front page
\usepackage[titelside, en, nat]{ku-forside}
\titel{Study of higher order image descriptors}
\undertitel{}
\forfatter{}
\forfatterET{Benjamin Michael Braithwaite -- \texttt{cpq608@alumni.ku.dk}}
\forfatterTO{Malte St√¶r Nissen -- \texttt{tgq958@alumni.ku.dk}}
\opgave{Master's Thesis} % Findes kun under 'titelside'
\dato{\today}
\vejleder{Supervisors: Kim Steenstup Pedersen and Sune Darkner}

%% Define subbibliography hack to let sections be compiled with references
\def\subbibliography{\printbibliography}

%% Differential operators
\newcommand*\diff{\mathop{}\!\mathrm{d}}
\newcommand*\Diff[1]{\mathop{}\!\mathrm{d^#1}}
\newcommand*\atan{\tan^{-1}}
\newcommand*\Atan[1]{\tan^{-1} \left( #1 \right)}
\newcommand*\mset[1]{\left \lbrace #1 \right \rbrace}

% TODO commands
\newcounter{mycomment}

\def\bsigma{\boldsymbol{\sigma}}
\newcommand{\mycomment}[2][]{
    \refstepcounter{mycomment}
    {%
        \setstretch{0.7}%
        \todo[color={red!100!green!33},size=\small]{%
        \textbf{Comment [\uppercase{#1}\themycomment]:}~#2}
    }
}
\addbibresource{../bibliography.bib}

\begin{document}
%% Let the subbibliography be an empty definition
\def\subbibliography{}

\maketitle

\subfile{abstract}

\setcounter{page}{1}
\pagenumbering{roman}

\tableofcontents


\listoffigures

\listoftables

\listoftodos

\clearpage
\setcounter{page}{1}
\pagenumbering{arabic}

\subfile{introduction}
\subfile{literature_study}
\subfile{methods}
\subfile{proposed_descriptor}
\subfile{image_correspondence}
\subfile{object_detection}
\subfile{future_work}

\clearpage
\subfile{appendix}

\printbibliography

\end{document}
